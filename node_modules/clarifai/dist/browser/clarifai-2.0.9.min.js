!function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){t.exports=e("./lib/axios")},{"./lib/axios":3}],2:[function(e,t,n){(function(n){"use strict";var r=e("./../utils"),i=e("./../helpers/buildURL"),o=e("./../helpers/parseHeaders"),s=e("./../helpers/transformData"),a=e("./../helpers/isURLSameOrigin"),u="undefined"!=typeof window&&window.btoa||e("./../helpers/btoa"),c=e("../helpers/settle");t.exports=function(t,f,p){var l=p.data,h=p.headers;r.isFormData(l)&&delete h["Content-Type"];var d=new XMLHttpRequest,g="onreadystatechange",m=!1;if("test"===n.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||a(p.url)||(d=new window.XDomainRequest,g="onload",m=!0,d.onprogress=function(){},d.ontimeout=function(){}),p.auth){var v=p.auth.username||"",_=p.auth.password||"";h.Authorization="Basic "+u(v+":"+_)}if(d.open(p.method.toUpperCase(),i(p.url,p.params,p.paramsSerializer),!0),d.timeout=p.timeout,d[g]=function(){if(d&&(4===d.readyState||m)&&0!==d.status){var e="getAllResponseHeaders"in d?o(d.getAllResponseHeaders()):null,n=p.responseType&&"text"!==p.responseType?d.response:d.responseText,r={data:s(n,e,p.transformResponse),status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:e,config:p,request:d};c(t,f,r),d=null}},d.onerror=function(){f(new Error("Network Error")),d=null},d.ontimeout=function(){var e=new Error("timeout of "+p.timeout+"ms exceeded");e.timeout=p.timeout,e.code="ECONNABORTED",f(e),d=null},r.isStandardBrowserEnv()){var y=e("./../helpers/cookies"),w=p.withCredentials||a(p.url)?y.read(p.xsrfCookieName):void 0;w&&(h[p.xsrfHeaderName]=w)}if("setRequestHeader"in d&&r.forEach(h,function(e,t){"undefined"==typeof l&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)}),p.withCredentials&&(d.withCredentials=!0),p.responseType)try{d.responseType=p.responseType}catch(E){if("json"!==d.responseType)throw E}p.progress&&("post"===p.method||"put"===p.method?d.upload.addEventListener("progress",p.progress):"get"===p.method&&d.addEventListener("progress",p.progress)),void 0===l&&(l=null),d.send(l)}}).call(this,e("1YiZ5S"))},{"../helpers/settle":15,"./../helpers/btoa":8,"./../helpers/buildURL":9,"./../helpers/cookies":11,"./../helpers/isURLSameOrigin":13,"./../helpers/parseHeaders":14,"./../helpers/transformData":17,"./../utils":18,"1YiZ5S":20}],3:[function(e,t,n){"use strict";function r(e){this.defaults=o.merge({},e),this.interceptors={request:new a,response:new a}}var i=e("./defaults"),o=e("./utils"),s=e("./core/dispatchRequest"),a=e("./core/InterceptorManager"),u=e("./helpers/isAbsoluteURL"),c=e("./helpers/combineURLs"),f=e("./helpers/bind"),p=e("./helpers/transformData");r.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),e=o.merge(i,this.defaults,{method:"get"},e),e.baseURL&&!u(e.url)&&(e.url=c(e.baseURL,e.url)),e.withCredentials=e.withCredentials||this.defaults.withCredentials,e.data=p(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n};var l=new r(i),h=t.exports=f(r.prototype.request,l);t.exports.Axios=r,h.defaults=l.defaults,h.interceptors=l.interceptors,h.create=function(e){return new r(e)},h.all=function(e){return Promise.all(e)},h.spread=e("./helpers/spread"),o.forEach(["delete","get","head"],function(e){r.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))},h[e]=f(r.prototype[e],l)}),o.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))},h[e]=f(r.prototype[e],l)})},{"./core/InterceptorManager":4,"./core/dispatchRequest":5,"./defaults":6,"./helpers/bind":7,"./helpers/combineURLs":10,"./helpers/isAbsoluteURL":12,"./helpers/spread":16,"./helpers/transformData":17,"./utils":18}],4:[function(e,t,n){"use strict";function r(){this.handlers=[]}var i=e("./../utils");r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},t.exports=r},{"./../utils":18}],5:[function(e,t,n){(function(n){"use strict";t.exports=function(t){return new Promise(function(r,i){try{var o;"function"==typeof t.adapter?o=t.adapter:"undefined"!=typeof XMLHttpRequest?o=e("../adapters/xhr"):"undefined"!=typeof n&&(o=e("../adapters/http")),"function"==typeof o&&o(r,i,t)}catch(s){i(s)}})}}).call(this,e("1YiZ5S"))},{"../adapters/http":2,"../adapters/xhr":2,"1YiZ5S":20}],6:[function(e,t,n){"use strict";var r=e("./utils"),i=/^\)\]\}',?\n/,o={"Content-Type":"application/x-www-form-urlencoded"};t.exports={transformRequest:[function(e,t){return r.isFormData(e)||r.isArrayBuffer(e)||r.isStream(e)?e:r.isArrayBufferView(e)?e.buffer:!r.isObject(e)||r.isFile(e)||r.isBlob(e)?e:(r.isUndefined(t)||(r.forEach(t,function(e,n){"content-type"===n.toLowerCase()&&(t["Content-Type"]=e)}),r.isUndefined(t["Content-Type"])&&(t["Content-Type"]="application/json;charset=utf-8")),JSON.stringify(e))}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(i,"");try{e=JSON.parse(e)}catch(t){}}return e}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:r.merge(o),post:r.merge(o),put:r.merge(o)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&300>e}}},{"./utils":18}],7:[function(e,t,n){"use strict";t.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},{}],8:[function(e,t,n){"use strict";function r(){this.message="String contains an invalid character"}function i(e){for(var t,n,i=String(e),s="",a=0,u=o;i.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&t>>8-a%1*8)){if(n=i.charCodeAt(a+=.75),n>255)throw new r;t=t<<8|n}return s}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=i},{}],9:[function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=e("./../utils");t.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else{var s=[];i.forEach(t,function(e,t){null!==e&&"undefined"!=typeof e&&(i.isArray(e)&&(t+="[]"),i.isArray(e)||(e=[e]),i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))}))}),o=s.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},{"./../utils":18}],10:[function(e,t,n){"use strict";t.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},{}],11:[function(e,t,n){"use strict";var r=e("./../utils");t.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},{"./../utils":18}],12:[function(e,t,n){"use strict";t.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},{}],13:[function(e,t,n){"use strict";var r=e("./../utils");t.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return t=e(window.location.href),function(n){var i=r.isString(n)?e(n):n;return i.protocol===t.protocol&&i.host===t.host}}():function(){return function(){return!0}}()},{"./../utils":18}],14:[function(e,t,n){"use strict";var r=e("./../utils");t.exports=function(e){var t,n,i,o={};return e?(r.forEach(e.split("\n"),function(e){i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t&&(o[t]=o[t]?o[t]+", "+n:n)}),o):o}},{"./../utils":18}],15:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(n):e(n)}},{}],16:[function(e,t,n){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},{}],17:[function(e,t,n){"use strict";var r=e("./../utils");t.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},{"./../utils":18}],18:[function(e,t,n){"use strict";function r(e){return"[object Array]"===w.call(e)}function i(e){return"[object ArrayBuffer]"===w.call(e)}function o(e){return"undefined"!=typeof FormData&&e instanceof FormData}function s(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function a(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return"undefined"==typeof e}function f(e){return null!==e&&"object"==typeof e}function p(e){return"[object Date]"===w.call(e)}function l(e){return"[object File]"===w.call(e)}function h(e){return"[object Blob]"===w.call(e)}function d(e){return"[object Function]"===w.call(e)}function g(e){return f(e)&&d(e.pipe)}function m(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function v(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function _(e,t){if(null!==e&&"undefined"!=typeof e)if("object"==typeof e||r(e)||(e=[e]),r(e))for(var n=0,i=e.length;i>n;n++)t.call(null,e[n],n,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(null,e[o],o,e)}function y(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=y(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;r>n;n++)_(arguments[n],e);return t}var w=Object.prototype.toString;t.exports={isArray:r,isArrayBuffer:i,isFormData:o,isArrayBufferView:s,isString:a,isNumber:u,isObject:f,isUndefined:c,isDate:p,isFile:l,isBlob:h,isFunction:d,isStream:g,isStandardBrowserEnv:v,forEach:_,merge:y,trim:m}},{}],19:[function(e,t,n){(function(n,r){(function(){"use strict";function i(e){return"function"==typeof e||"object"==typeof e&&null!==e}function o(e){return"function"==typeof e}function s(e){z=e}function a(e){G=e}function u(){return function(){n.nextTick(h)}}function c(){return function(){F(h)}}function f(){var e=0,t=new W(h),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function p(){var e=new MessageChannel;return e.port1.onmessage=h,function(){e.port2.postMessage(0)}}function l(){return function(){setTimeout(h,1)}}function h(){for(var e=0;Z>e;e+=2){var t=te[e],n=te[e+1];t(n),te[e]=void 0,te[e+1]=void 0}Z=0}function d(){try{var t=e,n=t("vertx");return F=n.runOnLoop||n.runOnContext,c()}catch(r){return l()}}function g(e,t){var n=this,r=n._state;if(r===oe&&!e||r===se&&!t)return this;var i=new this.constructor(v),o=n._result;if(r){var s=arguments[r-1];G(function(){R(r,i,s,o)})}else x(n,i,e,t);return i}function m(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(v);return P(n,e),n}function v(){}function _(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function w(e){try{return e.then}catch(t){return ae.error=t,ae}}function E(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function b(e,t,n){G(function(e){var r=!1,i=E(n,t,function(n){r||(r=!0,t!==n?P(e,n):O(e,n))},function(t){r||(r=!0,k(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,k(e,i))},e)}function T(e,t){t._state===oe?O(e,t._result):t._state===se?k(e,t._result):x(t,void 0,function(t){P(e,t)},function(t){k(e,t)})}function A(e,t,n){t.constructor===e.constructor&&n===ne&&constructor.resolve===re?T(e,t):n===ae?k(e,ae.error):void 0===n?O(e,t):o(n)?b(e,t,n):O(e,t)}function P(e,t){e===t?k(e,_()):i(t)?A(e,t,w(t)):O(e,t)}function S(e){e._onerror&&e._onerror(e._result),C(e)}function O(e,t){e._state===ie&&(e._result=t,e._state=oe,0!==e._subscribers.length&&G(C,e))}function k(e,t){e._state===ie&&(e._state=se,e._result=t,G(S,e))}function x(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+oe]=n,i[o+se]=r,0===o&&e._state&&G(C,e)}function C(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?R(n,r,i,o):i(o);e._subscribers.length=0}}function I(){this.error=null}function D(e,t){try{return e(t)}catch(n){return ue.error=n,ue}}function R(e,t,n,r){var i,s,a,u,c=o(n);if(c){if(i=D(n,r),i===ue?(u=!0,s=i.error,i=null):a=!0,t===i)return void k(t,y())}else i=r,a=!0;t._state!==ie||(c&&a?P(t,i):u?k(t,s):e===oe?O(t,i):e===se&&k(t,i))}function H(e,t){try{t(function(t){P(e,t)},function(t){k(e,t)})}catch(n){k(e,n)}}function L(e){return new de(this,e).promise}function j(e){function t(e){P(i,e)}function n(e){k(i,e)}var r=this,i=new r(v);if(!X(e))return k(i,new TypeError("You must pass an array to race.")),i;for(var o=e.length,s=0;i._state===ie&&o>s;s++)x(r.resolve(e[s]),void 0,t,n);return i}function N(e){var t=this,n=new t(v);return k(n,e),n}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function V(e){this._id=le++,this._state=void 0,this._result=void 0,this._subscribers=[],v!==e&&("function"!=typeof e&&M(),this instanceof V?H(this,e):U())}function q(e,t){this._instanceConstructor=e,this.promise=new e(v),Array.isArray(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&O(this.promise,this._result))):k(this.promise,this._validationError())}function B(){var e;if("undefined"!=typeof r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=he)}var $;$=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var F,z,Y,X=$,Z=0,G=function(e,t){te[Z]=e,te[Z+1]=t,Z+=2,2===Z&&(z?z(h):Y())},K="undefined"!=typeof window?window:void 0,J=K||{},W=J.MutationObserver||J.WebKitMutationObserver,Q="undefined"!=typeof n&&"[object process]"==={}.toString.call(n),ee="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,te=new Array(1e3);Y=Q?u():W?f():ee?p():void 0===K&&"function"==typeof e?d():l();var ne=g,re=m,ie=void 0,oe=1,se=2,ae=new I,ue=new I,ce=L,fe=j,pe=N,le=0,he=V;V.all=ce,V.race=fe,V.resolve=re,V.reject=pe,V._setScheduler=s,V._setAsap=a,V._asap=G,V.prototype={constructor:V,then:ne,"catch":function(e){return this.then(null,e)}};var de=q;q.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},q.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===ie&&e>n;n++)this._eachEntry(t[n],n)},q.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===re){var i=w(e);if(i===ne&&e._state!==ie)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===he){var o=new n(v);A(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){t(e)}),t)}else this._willSettleAt(r(e),t)},q.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===ie&&(this._remaining--,e===se?k(r,n):this._result[t]=n),0===this._remaining&&O(r,this._result)},q.prototype._willSettleAt=function(e,t){var n=this;x(e,void 0,function(e){n._settledAt(oe,t,e)},function(e){n._settledAt(se,t,e)})};var ge=B,me={Promise:he,polyfill:ge};"function"==typeof define&&define.amd?define(function(){return me}):"undefined"!=typeof t&&t.exports?t.exports=me:"undefined"!=typeof this&&(this.ES6Promise=me),ge()}).call(this)}).call(this,e("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"1YiZ5S":20}],20:[function(e,t,n){function r(){}var i=t.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],21:[function(e,t,n){(function(n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("axios"),s=e("es6-promise"),a=s.Promise,u=e("./Models"),c=e("./Inputs"),f=e("./Concepts"),p=e("./constants"),l=p.API,h=l.TOKEN_PATH,d=function(){function e(t,n,i){r(this,e),this._validate(t,n,i),this._init(t,n,i)}return i(e,[{key:"getToken",value:function(){return this._config.token()}},{key:"setToken",value:function(e){var t=e;return"string"==typeof e&&(t={access_token:e,expires_in:176400}),t.access_token&&t.expires_in?(this._config._token=t,!0):!1}},{key:"_validate",value:function(e,t,n){if(void 0===e||void 0===t)throw new Error("Client ID and client secret is required")}},{key:"_init",value:function(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._config={apiEndpoint:i.apiEndpoint||n&&n.env&&n.env.API_ENDPOINT||"https://api.clarifai.com",clientId:e,clientSecret:t,_token:null,token:function(){return new a(function(e,t){var n=(new Date).getTime();null!==r._config._token&&r._config._token.expireTime>n?e(r._config._token):r._getToken(e,t)})}},this.models=new u(this._config),this.inputs=new c(this._config),this.concepts=new f(this._config)}},{key:"_getToken",value:function(e,t){var n=this;this._requestToken().then(function(r){if(200===r.status){var i=r.data,o=(new Date).getTime();i.expireTime=o+1e3*i.expires_in,n.setToken(i),e(i)}else t(r)},t)}},{key:"_requestToken",value:function(){var e=""+this._config.apiEndpoint+h,t=this._config.clientId,n=this._config.clientSecret;return o({url:e,method:"POST",auth:{username:t,password:n}})}}]),e}();t.exports=d}).call(this,e("1YiZ5S"))},{"./Concepts":23,"./Inputs":25,"./Models":27,"./constants":28,"1YiZ5S":20,axios:1,"es6-promise":19}],22:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this.id=n.id,this.name=n.name,this.createdAt=n.created_at||n.createdAt,this.updatedAt=n.updated_at||n.updatedAt,this.appId=n.app_id||n.appId,this.value=null,this._config=t,this._rawData=n}return i(e,[{key:"toObject",value:function(){return this._rawData}}]),e}();t.exports=o},{}],23:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("axios"),s=e("./Concept"),a=e("./constants"),u=a.API,c=a.replaceVars,f=u.CONCEPTS_PATH,p=u.CONCEPT_PATH,l=u.CONCEPT_SEARCH_PATH,h=e("./utils"),d=h.wrapToken,g=h.formatConcept,m=e("./helpers"),v=m.isSuccess,_=m.checkType,y=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r(this,e),this._config=t,this.rawData=i,i.forEach(function(e,t){n[t]=new s(n._config,e)}),this.length=i.length}return i(e,[{key:"list",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},r=""+this._config.apiEndpoint+f;return d(this._config,function(i){return new Promise(function(s,a){o.get(r,{headers:i,params:{page:n.page,per_page:n.perPage}}).then(function(n){v(n)?s(new e(t._config,n.data.concepts)):a(n)},a)})})}},{key:"get",value:function(e){var t=this,n=""+this._config.apiEndpoint+c(p,[e]);return d(this._config,function(e){return new Promise(function(r,i){o.get(n,{headers:e}).then(function(e){v(e)?r(new s(t._config,e.data.concept)):i(e)},i)})})}},{key:"create",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_(/(Object|String)/,n)&&(n=[n]);var r={concepts:n.map(g)},i=""+this._config.apiEndpoint+f;return d(this._config,function(n){return new Promise(function(s,a){o.post(i,r,{headers:n}).then(function(n){v(n)?s(new e(t._config,n.data.concepts)):a(n)},a)})})}},{key:"search",value:function(t){var n=this,r=""+this._config.apiEndpoint+l;return d(this._config,function(i){var s={concept_query:{name:t}};return new Promise(function(t,a){o.post(r,s,{headers:i}).then(function(r){v(r)?t(new e(n._config,r.data.concepts)):a(r)},a)})})}},{key:"toObjects",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return Array.prototype.map.call(this,function(e,n){var r=void 0;return t.length>0?(r={},t.forEach(function(t){r[t]=e[t]})):r=e.toObject(),r})}}]),e}();t.exports=y},{"./Concept":22,"./constants":28,"./helpers":30,"./utils":31,axios:1}],24:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("axios"),s=e("./constants"),a=s.API,u=s.replaceVars,c=a.INPUT_PATCH_PATH,f=function(){function e(t,n){r(this,e),this.id=n.id,this.createdAt=n.created_at||n.createdAt,this.imageUrl=n.data.image.url,this.score=n.score,this._config=t,this._rawData=n}return i(e,[{key:"toObject",value:function(){return this._rawData}},{key:"mergeConcepts",value:function(e){return this._update("merge_concepts",e)}},{key:"deleteConcepts",value:function(e){return this._update("delete_concepts",e)}},{key:"_update",value:function(t){var n=""+this._config.apiEndpoint+u(c,[this.id]),r={action:action,concepts:t};return wrapToken(this._config,function(t){return new Promise(function(i,s){return o.patch(n,r,{headers:t}).then(function(t){isSuccess(t)?i(new e(t.data.input)):s(t)},s)})})}}]),e}();t.exports=f},{"./constants":28,axios:1}],25:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("axios"),s=e("./Input"),a=e("./constants"),u=a.API,c=a.replaceVars,f=u.INPUT_PATH,p=u.INPUTS_PATH,l=u.INPUTS_STATUS_PATH,h=u.SEARCH_PATH,d=e("./utils"),g=d.wrapToken,m=d.formatInput,v=d.formatImagesSearch,_=d.formatConceptsSearch,y=e("./helpers"),w=y.isSuccess,E=y.checkType,b=128,T=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r(this,e),this._config=t,this.rawData=i,i.forEach(function(e,t){e.input&&e.score&&(e.input.score=e.score,e=e.input),n[t]=new s(n._config,e)}),this.length=i.length}return i(e,[{key:"list",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},r=""+this._config.apiEndpoint+p;return g(this._config,function(i){return new Promise(function(s,a){o.get(r,{headers:i,params:{page:n.page,per_page:n.perPage}}).then(function(n){w(n)?s(new e(t._config,n.data.inputs)):a(n)},a)})})}},{key:"create",value:function(t){var n=this;E(/(String|Object)/,t)&&(t=[t]);var r=""+this._config.apiEndpoint+p;if(t.length>b)throw new Error("Number of inputs exceeded maximum of "+b);return g(this._config,function(i){var s={inputs:t.map(m)};return new Promise(function(t,a){o.post(r,s,{headers:i}).then(function(r){w(r)?t(new e(n._config,r.data.inputs)):a(r)},a)})})}},{key:"get",value:function(e){var t=this,n=""+this._config.apiEndpoint+c(f,[e]);return g(this._config,function(e){return new Promise(function(r,i){o.get(n,{headers:e}).then(function(e){w(e)?r(new s(t._config,e.data.input)):i(e)},i)})})}},{key:"delete",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=void 0;return null===t?!function(){var r=""+e._config.apiEndpoint+c(f,[t]);n=g(e._config,function(e){return o["delete"](r,{headers:e})})}():Array.isArray(t)?n=this._update("delete_inputs",t):!function(){var t=""+e._config.apiEndpoint+p;n=g(e._config,function(e){return o["delete"](t,{headers:e})})}(),n}},{key:"mergeConcepts",value:function(e){return this._update("merge_concepts",e)}},{key:"deleteConcepts",value:function(e){return this._update("delete_concepts",e)}},{key:"_update",value:function(t,n){var r=this,i=""+this._config.apiEndpoint+p;if(E(/Object/,n)&&(n=[n]),n.length>b)throw new Error("Number of inputs exceeded maximum of "+b);var s={action:t,inputs:n.map(function(e){return m(e,!1)})};return g(this._config,function(t){return new Promise(function(n,a){o.patch(i,s,{headers:t}).then(function(t){w(t)?n(new e(r._config,t.data.inputs)):a(t)},a)})})}},{key:"search",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1,perPage:20},i=""+this._config.apiEndpoint+h,s={query:{ands:[]},pagination:{page:r.page,per_page:r.perPage}};return Array.isArray(n)||(n=[n]),n.length>0&&(s.query.ands=n.map(function(e){return e.name?_(e):v(e)})),g(this._config,function(n){return new Promise(function(r,a){o.post(i,s,{headers:n}).then(function(n){w(n)?r(new e(t._config,n.data.hits)):a(n)},a)})})}},{key:"getStatus",value:function(){var e=""+this._config.apiEndpoint+l;return g(this._config,function(t){return new Promise(function(n,r){o.get(e,{headers:t}).then(function(e){w(e)?n(e.data):r(e)},r)})})}}]),e}();t.exports=T},{"./Input":24,"./constants":28,"./helpers":30,"./utils":31,axios:1}],26:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("axios"),s=e("./Concepts"),a=e("./helpers"),u=a.isSuccess,c=a.checkType,f=e("./constants"),p=f.API,l=f.replaceVars,h=e("./utils"),d=h.wrapToken,g=h.formatImagePredict,m=p.MODEL_VERSIONS_PATH,v=p.MODEL_VERSION_PATH,_=p.MODEL_PATCH_PATH,y=p.PREDICT_PATH,w=p.VERSION_PREDICT_PATH,E=p.MODEL_INPUTS_PATH,b=p.MODEL_OUTPUT_PATH,T=p.MODEL_VERSION_INPUTS_PATH,A="21103",P="21101",S=2e3,O=function(){function e(t,n){r(this,e),this._config=t,this.data=n,this.name=n.name,this.id=n.id,this.createdAt=n.created_at||n.createdAt,this.appId=n.app_id||n.appId,this.outputInfo=n.output_info||n.outputInfo,c(/(String)/,n.version)?(this.modelVersion={},this.versionId=n.version):(this.modelVersion=n.model_version||n.modelVersion||n.version,this.versionId=(this.modelVersion||{}).id),this._rawData=n}return i(e,[{key:"toObject",value:function(){return this._rawData}},{key:"mergeConcepts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._update("merge_concepts",e)}},{key:"deleteConcepts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._update("delete_concepts",e)}},{key:"_update",value:function(e,t){Array.isArray(t)||(t=[t]);var n=""+this._config.apiEndpoint+l(_,[this.id]),r=t[0]instanceof s?t.toObject("id"):t,i={concepts:r,action:e};return d(this._config,function(e){var t={headers:e,params:i};return o.patch(n,t)})}},{key:"train",value:function(t){var n=this,r=""+this._config.apiEndpoint+l(m,[this.id]);return d(this._config,function(i){return new Promise(function(s,a){o.post(r,null,{headers:i}).then(function(r){u(r)?t?n._pollTrain.bind(n)(s,a):s(new e(n._config,r.data.model)):a(r)},a)})})}},{key:"_pollTrain",value:function(e,t){var n=this;clearTimeout(this.pollTimeout),this.getOutputInfo().then(function(r){var i=r.modelVersion.status.code.toString();i===A||i===P?n.pollTimeout=setTimeout(function(){return n._pollTrain(e,t)},S):e(r)},t)["catch"](t)}},{key:"predict",value:function(e){c(/(Object|String)/,e)&&(e=[e]);var t=""+this._config.apiEndpoint+(this.versionId?l(w,[this.id,this.versionId]):l(y,[this.id]));return d(this._config,function(n){var r={inputs:e.map(g)};return o.post(t,r,{headers:n})})}},{key:"getVersion",value:function(e){var t=""+this._config.apiEndpoint+l(v,[this.id,e]);return d(this._config,function(e){return new Promise(function(n,r){o.get(t,{headers:e}).then(function(e){n(e.data)},r)})})}},{key:"getVersions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},t=""+this._config.apiEndpoint+l(m,[this.id]);return d(this._config,function(n){var r={headers:n,params:{per_page:e.perPage,page:e.page}};return o.get(t,r)})}},{key:"getOutputInfo",value:function(){var t=this,n=""+this._config.apiEndpoint+l(b,[this.id]);return d(this._config,function(r){return new Promise(function(i,s){o.get(n,{headers:r}).then(function(n){i(new e(t._config,n.data.model))},s)})})}},{key:"getInputs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},t=""+this._config.apiEndpoint+(this.versionId?l(T,[this.id,this.versionId]):l(E,[this.id]));return d(this._config,function(n){return o.get(t,{params:{per_page:e.perPage,page:e.page},headers:n})})}}]),e}();t.exports=O;
},{"./Concepts":23,"./constants":28,"./helpers":30,"./utils":31,axios:1}],27:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("axios"),s=e("es6-promise"),a=s.Promise,u=e("./Model"),c=e("./Concepts"),f=e("./constants"),p=f.API,l=f.replaceVars,h=e("./helpers"),d=h.isSuccess,g=h.checkType,m=e("./utils"),v=m.wrapToken,_=p.MODELS_PATH,y=p.MODEL_PATH,w=p.MODEL_SEARCH_PATH,E=p.MODEL_VERSION_PATH,b=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r(this,e),this._config=t,this.rawData=i,i.forEach(function(e,t){n[t]=new u(n._config,e)}),this.length=i.length}return i(e,[{key:"initModel",value:function(e){var t=this,n={},r=void 0;return g(/String/,e)?n.id=e:n=e,r=n.id?function(e,r){e(new u(t._config,n))}:function(e,r){t.search(n.name,n.type).then(function(t){e(n.version?t.filter(function(e){return e.modelVersion.id===n.version}):t[0])},r)["catch"](r)},new a(r)}},{key:"predict",value:function(e,t){var n=this;return new a(function(r,i){n.initModel(e).then(function(e){e.predict(t).then(r,i)["catch"](i)},i)})}},{key:"train",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!1;return new a(function(r,i){t.initModel(e).then(function(e){e.train(n).then(r,i)["catch"](i)},i)})}},{key:"list",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},r=""+this._config.apiEndpoint+_;return v(this._config,function(i){return new a(function(s,a){o.get(r,{params:{per_page:n.perPage,page:n.page},headers:i}).then(function(n){d(n)?s(new e(t._config,n.models)):a(n)},a)})})}},{key:"create",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n instanceof c?n.toObject("id"):n.map(function(e){var t=e;return g(/String/,e)&&(t={id:e}),t}),s=""+this._config.apiEndpoint+_,f={model:{name:e,output_info:{data:{concepts:i},output_config:{concepts_mutually_exclusive:!!r.conceptsMutuallyExclusive,closed_environment:!!r.closedEnvironment}}}};return v(this._config,function(e){return new a(function(n,r){o({method:"post",url:s,data:f,headers:e}).then(function(e){d(e)?n(new u(t._config,e.data.model)):r(e)},r)})})}},{key:"get",value:function(e){var t=this,n=""+this._config.apiEndpoint+l(y,[e]);return v(this._config,function(e){return new a(function(r,i){o.get(n,{headers:e}).then(function(e){d(e)?r(new u(t._config,e.data.model)):i(e)},i)})})}},{key:"delete",value:function(e,t){var n=void 0;return n=e?""+this._config.apiEndpoint+l(y,[e]):t?""+this._config.apiEndpoint+l(E,[e,t]):""+this._config.apiEndpoint+_,v(this._config,function(e){return o["delete"](n,{headers:e})})}},{key:"search",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=""+this._config.apiEndpoint+w;return v(this._config,function(s){var u={model_query:{name:t,type:r}};return new a(function(t,r){o.post(i,u,{headers:s}).then(function(i){d(i)?t(new e(n._config,i.data.models)):r(i)},r)})})}}]),e}();t.exports=b},{"./Concepts":23,"./Model":26,"./constants":28,"./helpers":30,"./utils":31,axios:1,"es6-promise":19}],28:[function(e,t,n){"use strict";t.exports={API:{TOKEN_PATH:"/v2/token",MODELS_PATH:"/v2/models",MODEL_PATH:"/v2/models/$0",MODEL_VERSIONS_PATH:"/v2/models/$0/versions",MODEL_VERSION_PATH:"/v2/models/$0/versions/$1",MODEL_PATCH_PATH:"/v2/models/$0/output_info/data/concepts",MODEL_OUTPUT_PATH:"/v2/models/$0/output_info",MODEL_SEARCH_PATH:"/v2/models/searches",PREDICT_PATH:"/v2/models/$0/outputs",VERSION_PREDICT_PATH:"/v2/models/$0/versions/$1/outputs",CONCEPTS_PATH:"/v2/concepts",CONCEPT_PATH:"/v2/concepts/$0",CONCEPT_SEARCH_PATH:"/v2/concepts/searches",MODEL_INPUTS_PATH:"/v2/models/$0/inputs",MODEL_VERSION_INPUTS_PATH:"/v2/models/$0/versions/$1/inputs",INPUTS_PATH:"/v2/inputs",INPUT_PATH:"/v2/inputs/$0",INPUTS_STATUS_PATH:"/v2/inputs/status",INPUT_PATCH_PATH:"/v2/inputs/$0/data/concepts",SEARCH_PATH:"/v2/searches"},replaceVars:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e;return t.forEach(function(e,t){n=n.replace(new RegExp("\\$"+t,"g"),e)}),n},URL_REGEX:/^(https?:\/\/)?((([a-z\d]([a-z\d-]*[a-z\d])*)\.)+[a-z]{2,}|((\d{1,3}\.){3}\d{1,3}))(\:\d+)?(\/[-a-z\d%_.~+]*)*(\?[;&a-z\d%_.~+=-]*)?(\#[-a-z\d_]*)?$/i}},{}],29:[function(e,t,n){(function(n){"use strict";var r=e("./App");t.exports=n.Clarifai={App:r,GENERAL_MODEL:"aaa03c23b3724a16a56b629203edc62c",FOOD_MODEL:"bd367be194cf45149e75f01d59f77ba7",TRAVEL_MODEL:"eee28c313d69466f836ab83287a54ed9",NSFW_MODEL:"e9576d86d2004ed1a38ba0cf39ecb4b1",WEDDINGS_MODEL:"c386b7a870114f4a87477c0824499348",COLOR_MODEL:"eeed0b6733a644cea07cf4c60f87ebb7",CLUSTER_MODEL:"cccbe437d6e54e2bb911c6aa292fb072",BLUR:"ddd9d34872ab32be9f0e3b2b98a87be2"}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./App":21}],30:[function(e,t,n){"use strict";var r=[200,201];t.exports={isSuccess:function(e){return r.indexOf(e.status)>-1},deleteEmpty:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!1;Object.keys(e).forEach(function(n){(null===e[n]||void 0===e[n]||t===!0&&(""===e[n]||0===e[n].length||0===Object.keys(e[n]).length))&&delete e[n]})},checkType:function(e,t){return e instanceof RegExp==!1&&(e=new RegExp(e)),e.test(Object.prototype.toString.call(t))}}},{}],31:[function(e,t,n){"use strict";var r=e("es6-promise"),i=r.Promise,o=e("./constants"),s=o.URL_REGEX,a=e("./helpers"),u=a.checkType;t.exports={wrapToken:function(e,t){return new i(function(n,r){e.token().then(function(e){var i={Authorization:"Bearer "+e.access_token};t(i).then(n,r)},r)})},formatInput:function(e,t){var n=u(/String/,e)?{url:e}:e,r={id:n.id||null,data:{}};return n.concepts&&(r.data.concepts=n.concepts),t!==!1&&(r.data.image={url:n.url,base64:n.base64,crop:n.crop},e.allowDuplicateUrl&&(r.data.image.allow_duplicate_url=!0)),r},formatImagePredict:function(e){var t=e;return u(/String/,e)&&(t=s.test(t)===!0?{url:e}:{base64:e}),{data:{image:t}}},formatImagesSearch:function(e){var t=void 0;t="string"==typeof e?{url:e}:{url:e.url||null,base64:e.base64||null,crop:e.crop||null};var n={input:{data:{image:t}}};return"input"===e.type?n:{output:n}},formatConcept:function(e){var t=e;return u(/String/,e)&&(t={id:e,name:e}),t},formatConceptsSearch:function(e){u(/String/,e)&&(e={name:e});var t={},n="input"===e.type?"input":"output";return t[n]={data:{concepts:[{name:e.name,value:void 0===e.value?!0:!!e.value}]}},t}}},{"./constants":28,"./helpers":30,"es6-promise":19}]},{},[29]);